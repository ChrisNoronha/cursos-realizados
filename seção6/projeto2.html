<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact List with Sidebar</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .sidebar {
            position: fixed;
            top: 0;
            bottom: 0;
            left: 0;
            z-index: 1000;
            padding: 20px;
            width: 250px;
            background-color: #f8f9fa;
            overflow-y: auto;
        }

        .content {
            margin-left: 270px;
            padding: 20px;
        }

        .contact-img {
            width: 50px;
            height: 50px;
            border-radius: 50%;
        }

        .contact-item {
            display: flex;
            align-items: center;
            padding: 10px 0;
        }

        .contact-item img {
            margin-right: 10px;
        }

        .contact-group {
            margin-bottom: 30px;
        }

        .contact-group h4 {
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <h2>Contacts</h2>
        <nav id="contact-sidebar" class="nav flex-column"></nav>
    </div>

    <div class="content">
        <div id="contact-list" class="list-group"></div>
    </div>

    <script>
        const contactList = document.getElementById('contact-list');
        const contactSidebar = document.getElementById('contact-sidebar');

        // Função para buscar contatos
        async function fetchContacts() {
            try {
                const response = await fetch('https://randomuser.me/api/?results=20'); // Pega 20 contatos aleatórios
                const data = await response.json();
                const contacts = data.results;

                contacts.forEach((contact, index) => {
                    const groupId = `group-${Math.floor(index / 5) + 1}`;
                    let group = document.getElementById(groupId);
                    
                    if (!group) {
                        // Criar um novo grupo de contatos
                        group = document.createElement('div');
                        group.id = groupId;
                        group.className = 'contact-group';
                        group.innerHTML = `<h4>Group ${Math.floor(index / 5) + 1}</h4>`;
                        contactList.appendChild(group);

                        // Adicionar link na barra lateral
                        const sidebarItem = document.createElement('a');
                        sidebarItem.href = `#${groupId}`;
                        sidebarItem.className = 'nav-link';
                        sidebarItem.innerText = `Group ${Math.floor(index / 5) + 1}`;
                        contactSidebar.appendChild(sidebarItem);
                    }

                    // Adicionar contato ao grupo
                    const contactItem = document.createElement('div');
                    contactItem.className = 'list-group-item contact-item';
                    contactItem.innerHTML = `
                        <img src="${contact.picture.thumbnail}" alt="${contact.name.first} ${contact.name.last}" class="contact-img">
                        <div>
                            <strong>${contact.name.first} ${contact.name.last}</strong><br>
                            <small>${contact.email}</small>
                        </div>
                    `;
                    group.appendChild(contactItem);
                });
            } catch (error) {
                console.error('Error fetching contacts:', error);
            }
        }

        // Carrega os contatos ao carregar a página
        document.addEventListener('DOMContentLoaded', fetchContacts);
    </script>
</body>
</html>
